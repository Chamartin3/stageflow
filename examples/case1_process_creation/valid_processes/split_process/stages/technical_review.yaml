# Technical Review Stage - Technical assessment
name: "Technical Review"
description: "Technical team reviews skills through assessments and code challenges"

fields:
  - technical.reviewer_id
  - technical.reviewer_name
  - technical.assessment_type
  - technical.assessment_url
  - technical.started_at
  - technical.submitted_at
  - technical.score
  - technical.max_score
  - technical.code_quality_score
  - technical.problem_solving_score
  - technical.communication_score
  - technical.feedback
  - technical.decision
  - technical.recommended_level
  - candidate.withdrew

gates:
  advance_to_interview:
    target_stage: interview_round_1
    locks:
      - exists: "technical.decision"
      - type: equals
        property_path: "technical.decision"
        expected_value: "advance"
      - type: greater_than
        property_path: "technical.score"
        expected_value: 70
        error_message: "Technical score must be above 70%"
      - type: greater_than
        property_path: "technical.code_quality_score"
        expected_value: 6
      - type: greater_than
        property_path: "technical.problem_solving_score"
        expected_value: 6

  reject_at_technical:
    target_stage: rejected
    locks:
      - exists: "technical.decision"
      - type: equals
        property_path: "technical.decision"
        expected_value: "reject"
      - exists: "technical.feedback"

  candidate_withdrew:
    target_stage: withdrawn
    locks:
      - type: equals
        property_path: "candidate.withdrew"
        expected_value: true
