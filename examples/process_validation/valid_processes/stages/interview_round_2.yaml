# Interview Round 2 - Senior leadership interviews
name: "Interview Round 2"
description: "Final interviews with senior leadership and cross-functional stakeholders"

fields:
  - interview2.scheduled_at
  - interview2.completed_at
  - interview2.interviewers
  - interview2.format
  - interview2.leadership_score
  - interview2.strategic_thinking_score
  - interview2.culture_alignment_score
  - interview2.growth_potential_score
  - interview2.overall_recommendation
  - interview2.compensation_discussion
  - interview2.start_date_preference
  - interview2.decision
  - interview2.executive_notes
  - candidate.withdrew

gates:
  extend_offer:
    target_stage: offer
    locks:
      - exists: "interview2.decision"
      - type: equals
        property_path: "interview2.decision"
        expected_value: "offer"
      - type: greater_than
        property_path: "interview2.leadership_score"
        expected_value: 7
      - type: greater_than
        property_path: "interview2.culture_alignment_score"
        expected_value: 7
      - type: in_list
        property_path: "interview2.overall_recommendation"
        expected_value: ["strong_yes", "yes"]
      - exists: "interview2.compensation_discussion"

  reject_at_interview2:
    target_stage: rejected
    locks:
      - exists: "interview2.decision"
      - type: equals
        property_path: "interview2.decision"
        expected_value: "reject"
      - exists: "interview2.executive_notes"

  candidate_withdrew:
    target_stage: withdrawn
    locks:
      - type: equals
        property_path: "candidate.withdrew"
        expected_value: true
