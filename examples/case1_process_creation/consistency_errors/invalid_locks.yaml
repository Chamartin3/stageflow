# Case 1.2: Invalid Stage References (Consistency Error)
# Tests: Process with references to non-existent stages
# Expected: Process should load gracefully with consistency warnings

process:
  name: invalid_stage_refs
  initial_stage: start
  final_stage: nonexistent_final

  stages:
    start:
      schema:
        required_fields:
          - data

      gates:
        to_middle:
          target_stage: nonexistent_middle
          locks:
            - exists: "data"

    middle:
      schema:
        required_fields:
          - processed

      gates:
        to_end:
          target_stage: end
          locks:
            - exists: "processed"

    end:
      schema:
        required_fields:
          - result

  allow_stage_skipping: false
  regression_detection: true

  metadata:
    description: "Process with invalid stage references"
    test_case: "consistency_error_invalid_references"