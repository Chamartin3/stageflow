# Offer Stage - Job offer management
name: "Offer Extended"
description: "Formal job offer with compensation package and terms"
fields:
  - offer.id
  - offer.created_at
  - offer.expires_at
  - offer.base_salary
  - offer.bonus_percentage
  - offer.equity_shares
  - offer.signing_bonus
  - offer.benefits_package
  - offer.pto_days
  - offer.start_date
  - offer.position_title
  - offer.position_level
  - offer.reporting_to
  - offer.location
  - offer.remote_policy
  - offer.response
  - offer.negotiation_notes
  - offer.final_terms_accepted
  - offer.decline_reason
  - offer.expired
gates:
  offer_accepted:
    target_stage: onboarding
    locks:
      - exists: "offer.response"
      - type: equals
        property_path: "offer.response"
        expected_value: "accepted"
      - type: equals
        property_path: "offer.final_terms_accepted"
        expected_value: true
      - exists: "offer.start_date"
  offer_declined:
    target_stage: rejected
    locks:
      - type: equals
        property_path: "offer.response"
        expected_value: "accepted"
      - exists: "offer.response"
        #
  offer_expired:
    target_stage: withdrawn
    locks:
      - type: equals
        property_path: "offer.expired"
        expected_value: true
