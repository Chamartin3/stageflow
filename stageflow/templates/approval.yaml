# Approval Process Template
# Content submission and review workflow

process:
  name: approval_workflow
  description: "Content approval workflow"
  initial_stage: submitted
  final_stage: completed

  stages:
    submitted:
      name: "Submitted"
      description: "Content submitted for approval"
      fields:
        - title
        - content
        - author
      expected_actions:
        - name: "complete_review"
          description: "Complete the review process"
          instructions:
            - "Review the submitted content"
            - "Set the review status (approved/rejected)"
            - "Add reviewer comments if needed"
          related_properties:
            - title
            - content
          target_properties:
            - review.status
            - review.reviewer
      gates:
        review_complete:
          target_stage: completed
          locks:
            - exists: review.status
            - exists: review.reviewer

    completed:
      name: "Review Completed"
      description: "Review process completed"
      fields:
        - title
        - content
        - author
        - review.status
        - review.reviewer
        - completed_at
