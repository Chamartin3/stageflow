# Case 3.1: Linear Process Flow
# Tests: Simple linear process visualization

process:
  name: linear_document_approval
  initial_stage: draft
  final_stage: published

  stages:
    draft:
      name: "Draft"
      description: "Author creates and edits document content"
      gates:
        submit_for_review:
          target_stage: under_review
          locks:
          - exists: "title"
          - exists: "content"
          - exists: "author"
          - type: not_empty
            property_path: "title"

      fields:
      - title
      - content
      - author

    under_review:
      name: "Under Review"
      description: "Document is being reviewed by assigned reviewer"
      gates:
        approve_document:
          target_stage: approved
          locks:
          - exists: "review.decision"
          - type: equals
            property_path: "review.decision"
            expected_value: "approved"

      fields:
      - title
      - content
      - author
      - reviewer
      - review.decision

    approved:
      name: "Approved"
      description: "Document approved and prepared for publication"
      gates:
        publish_document:
          target_stage: published
          locks:
          - exists: "approval_date"
          - exists: "publication_ready"
          - type: equals
            property_path: "publication_ready"
            expected_value: true

      fields:
      - title
      - content
      - author
      - reviewer
      - approval_date
      - publication_ready

    published:
      name: "Published"
      description: "Document has been published and is available to readers"
      is_final: true

      fields:
      - title
      - content
      - author
      - reviewer
      - approval_date
      - publication_date
  allow_stage_skipping: false
  regression_detection: true

  metadata:
    description: "Simple linear document approval process for visualization testing"
    version: "1.0.0"
    test_case: "visualization_linear_flow"
    visualization_notes: "Should generate a simple left-to-right or top-to-bottom
      flow diagram"
